<!-- This page is where users will fill out their survey -->
<app-user-layout>
  <app-card [title]="surveyTitle" class="survey-card">
    <div
      id="survey-question-info"
      class="d-flex flex-column align-items-center my-5"
    >
      <div
        id="survey-description"
        class="mb-4 d-flex flex-column align-items-center"
      >
        <h3 class="survey-question">
          {{ questionsAndOptions[currentQuestionNumber].question.value }}
        </h3>
        <h5 class="survey-subtitle mt-2">Choose one!</h5>
      </div>
      <div
        id="survey-options-container"
        class="row gap-4 justify-content-center mt-5"
      >
        <div
          *ngFor="
            let option of questionsAndOptions[currentQuestionNumber].options
          "
          class="col survey-options-container-item"
        >
          <div
            *ngIf="selectedOption !== option.key"
            class="survey-option d-flex flex-row align-items-center gap-3"
            (click)="onSelect(option.key)"
          >
            <div class="survey-radio-icon"></div>
            <span>{{ option.value }}</span>
          </div>
          <div
            *ngIf="selectedOption === option.key"
            class="survey-selected-option survey-option d-flex flex-row align-items-center gap-3"
          >
            <div class="survey-radio-icon survey-radio-icon-selected"></div>
            <span>{{ option.value }}</span>
          </div>
        </div>
      </div>
      <div id="survey-continue-button">
        <button
          class="btn btn-primary rounded-pill px-4 py-3 d-flex flex-row align-items-center mt-5"
          [disabled]="selectedOption === -1"
          (click)="onContinue()"
          *ngIf="currentQuestionNumber !== questionsAndOptions.length - 1"
        >
          <span>Continue</span>
          <i-bs
            name="caret-right-fill"
            width="10"
            height="10"
            class="ms-3"
          ></i-bs>
        </button>
        <button
          class="btn btn-primary rounded-pill px-4 py-3 d-flex flex-row align-items-center mt-5"
          [disabled]="selectedOption === -1"
          (click)="onSubmit()"
          *ngIf="currentQuestionNumber === questionsAndOptions.length - 1"
        >
          <span>Submit</span>
          <i-bs name="check2" width="15" height="15" class="ms-3"></i-bs>
        </button>
      </div>
    </div>
  </app-card>
</app-user-layout>
